<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Amanda Miller — Artifacts Showcase</title>
<meta name="color-scheme" content="light dark" />
<style>
  :root{
    --bg:#0b1020;--bg1:#0b1020;--bg2:#1a2240;--card:#0f162e;--text:#e6eaf2;
    --muted:#a7b0c3;--accent:#7cc2ff;--accent2:#9ae6b4;--border:#233059;
    --shadow:0 10px 25px rgba(0,0,0,.25)
  }
  @media (prefers-color-scheme:light){
    :root{
      --bg:#f7f9fc;--bg1:#eef3fb;--bg2:#f7f9fc;--card:#fff;--text:#1c2430;
      --muted:#5a6b85;--accent:#0d6efd;--accent2:#198754;--border:#e6eaf2;
      --shadow:0 8px 20px rgba(14,30,64,.08)
    }
  }

  *{box-sizing:border-box}
  html,body{min-height:100%}
  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial;
    background:linear-gradient(180deg,var(--bg1),var(--bg2));
    color:var(--text);
    overflow-y:auto; /* ensure page can scroll if content grows */
  }

  .container{max-width:1100px;margin:0 auto;padding:clamp(16px,3vw,32px)}
  header{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 0 12px}
  .brand{display:flex;align-items:center;gap:10px}
  .dot{width:10px;height:10px;border-radius:50%;background:var(--accent)}
  .muted{color:var(--muted)}

  .btn{
    display:inline-flex;align-items:center;gap:6px;
    padding:9px 12px;border-radius:10px;border:1px solid var(--border);
    text-decoration:none;color:inherit;
    background:linear-gradient(180deg,rgba(255,255,255,.06),transparent);
    font-weight:600
  }

  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:14px}
  .card{
    grid-column:span 6;border:1px solid var(--border);
    border-radius:16px;background:var(--card);box-shadow:var(--shadow);
    padding:14px;display:grid;gap:10px
  }
  @media (max-width:860px){.card{grid-column:1/-1}}

  .title{display:flex;align-items:center;justify-content:space-between;gap:10px}
  .pill{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid var(--border);background:rgba(255,255,255,.06);font-size:.78rem}
  .links a{display:inline-flex;gap:6px;align-items:center;margin-right:8px;margin-top:4px}
  .row{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
  .meta{font-size:.92rem}
  textarea, select{width:100%;padding:10px;border-radius:10px;border:1px solid var(--border);background:transparent;color:inherit}
  .checklist{display:grid;gap:6px;margin:4px 0}
  .checklist label{display:flex;gap:8px;align-items:flex-start}
  .bar{height:8px;border-radius:8px;background:rgba(255,255,255,.08);position:relative;overflow:hidden}
  .bar>span{position:absolute;left:0;top:0;height:100%;background:linear-gradient(90deg,var(--accent),var(--accent2))}
  footer{margin:18px 0 6px;color:var(--muted);font-size:.9rem;display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap}
  .warn{color:#f39c12}
  pre#debug{white-space:pre-wrap;background:rgba(255,0,0,.08);border:1px solid rgba(255,0,0,.25);padding:8px;border-radius:8px;color:#ffdddd;display:none}
  @media (prefers-color-scheme:light){pre#debug{color:#a33}}

  /* Hover affordances — VERY subtle (~50% of prior effect), with safe fallbacks */
  @media (hover:hover){
    .card{
      transition:background-color .18s ease,border-color .18s ease,box-shadow .18s ease,transform .18s ease
    }
    .card:hover{
      background:var(--card); /* fallback */
      background:color-mix(in oklab,var(--card) 96%, var(--accent) 4%);
      border-color:color-mix(in oklab,var(--border) 85%, var(--accent) 15%);
      box-shadow:0 6px 14px rgba(14,30,64,.12);
      transform:translateY(-1px);
    }
    .btn{
      transition:background-color .18s ease,border-color .18s ease,box-shadow .18s ease,transform .18s ease
    }
    .btn:hover{
      border-color:color-mix(in oklab,var(--border) 80%, var(--accent) 20%);
      box-shadow:0 4px 9px rgba(14,30,64,.12);
    }
  }
  .btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px}

  /* If JS fails and cards never render, show a gentle hint so page doesn't look "cut off" */
  #cards:empty::before{
    content:"Loading containers…";
    display:block;
    color:var(--muted);
    padding:12px 2px;
  }
</style>
</head>
<body>
<div class="container">
  <header>
    <div class="brand">
      <span class="dot"></span>
      <div>
        <div style="font-weight:700">Amanda Miller</div>
        <div class="muted">Artifacts Showcase</div>
      </div>
    </div>
    <nav class="muted">
      <a class="btn" href="/">Home</a>
      <a class="btn" href="/A.%20Miller%20Resume%202025-2.pdf" target="_blank" rel="noopener">Résumé (PDF)</a>
    </nav>
  </header>

  <section style="margin:6px 0 16px">
    <p class="muted">These are the <strong>containers</strong> for items employers expect to see. Drop files into <code>/artifacts/</code> with the suggested names; links start working after you push.</p>
    <noscript><p class="warn">JavaScript is disabled; checklists and progress will not work.</p></noscript>
  </section>

  <section class="grid" id="cards">
    <!-- Cards will be injected here; header above ensures the page isn't blank even if JS fails. -->
  </section>

  <section style="margin-top:14px">
    <div class="row">
      <div class="bar" style="width:280px"><span id="overall" style="width:0%"></span></div>
      <span class="muted" id="statTxt"></span>
      <button class="btn" id="export">Export Status JSON</button>
      <button class="btn" id="reset">Reset Local Progress</button>
    </div>
  </section>

  <footer>
    <span>© <span id="year"></span> Amanda Miller</span>
    <span class="muted">Progress saves to <code>mandy_portfolio_containers_v1</code> (localStorage).</span>
  </footer>

  <pre id="debug"></pre>
</div>

<script>
(function(){
  function showError(e){
    var dbg = document.getElementById('debug');
    if(!dbg) return;
    dbg.style.display='block';
    dbg.textContent = 'Error: ' + (e && e.message ? e.message : e);
    console.error(e);
  }
  try{
    // ---------- CONFIG: artifact containers ----------
    var ITEMS = [
      { id:"sample-capture", title:"15–30s Sample Capture", tag:"Video",
        desc:"Quick screen recording (OBS/Kdenlive) demonstrating polish and voice levels.",
        links:[ {label:"Play MP4", href:"/artifacts/2025-10-sample-capture.mp4"},
                {label:"Play WEBM", href:"/artifacts/2025-10-sample-capture.webm"} ],
        checklist:["Audio balanced (voice ≥ -16 LUFS)","Cursor/zoom clear at 100–125%","No PII visible"],
        notes:"" },
      { id:"portfolio-shell", title:"Portfolio Shell (3 Empty Slots)", tag:"Site",
        desc:"Live portfolio with three reserved placeholders for work samples.",
        links:[ {label:"Open Home", href:"/"},
                {label:"Slot 1 Page", href:"/work/slot-1.html"},
                {label:"Slot 2 Page", href:"/work/slot-2.html"},
                {label:"Slot 3 Page", href:"/work/slot-3.html"} ],
        checklist:["Home has two tiles (Artifacts, Résumé)","Three sample slots visible","Mobile layout verified"],
        notes:"If slot pages don’t exist yet, create /work/*.html later." },
      { id:"h5p-microlearning", title:"H5P Microlearning (10–15 min)", tag:"H5P",
        desc:"Interactive video + checks; exported for web; accessibility notes included.",
        links:[ {label:"Open H5P (HTML export)", href:"/artifacts/h5p-microlearning.html"},
                {label:"Download .h5p source", href:"/artifacts/h5p-microlearning.h5p"},
                {label:"WCAG Notes (PDF)", href:"/artifacts/h5p-wcag-notes.pdf"} ],
        checklist:["Captions on video segments","Color contrast ≥ 4.5:1","Keyboard-only completes all interactions"],
        notes:"Created in Lumi or Moodle H5P; export as single HTML for Pages." },
      { id:"adapt-scorm", title:"Adapt Course (SCORM)", tag:"SCORM",
        desc:"Adapt Authoring course with quiz; provide SCORM 1.2 & 2004 packages plus a web build.",
        links:[ {label:"Download SCORM 1.2 ZIP", href:"/artifacts/adapt-course-scorm12.zip"},
                {label:"Download SCORM 2004 ZIP", href:"/artifacts/adapt-course-scorm2004.zip"},
                {label:"Live Web Build", href:"/artifacts/adapt-web/index.html"} ],
        checklist:["SCORM 1.2 passes LMS test","SCORM 2004 passes LMS test","Web build loads on GitHub Pages"],
        notes:"Keep SCORM Zips < 100MB for repo; use Git LFS if needed." },
      { id:"lms-tracking-gif", title:"LMS Tracking Proof (GIF)", tag:"GIF",
        desc:"30s capture showing completion/score reported by LMS from the Adapt package.",
        links:[ {label:"View Tracking GIF", href:"/artifacts/adapt-tracking.gif"} ],
        checklist:["Shows course launch → attempt → completion","Score visible in LMS gradebook","GIF ≤ 15 MB"],
        notes:"Use OBS + convert to GIF (ffmpeg/convert) or Kdenlive render." },
      { id:"assessment-pack", title:"Assessment Pack", tag:"PDF + Video",
        desc:"Standards-aligned item bank + rubric + remediation guide + 2-min walkthrough.",
        links:[ {label:"Download Assessment Pack (PDF)", href:"/artifacts/assessment-pack.pdf"},
                {label:"Watch 2-min Screencast", href:"/artifacts/assessment-walkthrough.mp4"} ],
        checklist:["Standards mapping table included","Rubric & remediation steps clear","PDF tagged for accessibility"],
        notes:"Tag PDF for headings, lists, tables; include alt text for figures." },
      { id:"narratives", title:"Portfolio Narratives", tag:"HTML",
        desc:"Problem → Design → Outcomes write-ups for each artifact.",
        links:[ {label:"Narrative: H5P Microlearning", href:"/mandy/narratives/h5p-microlearning.html"},
                {label:"Narrative: Adapt Course", href:"/mandy/narratives/adapt-course.html"},
                {label:"Narrative: Assessment Pack", href:"/mandy/narratives/assessment-pack.html"} ],
        checklist:["Each narrative ≤ 500 words","Metrics & evidence included","Role split: what Amanda did vs. tools"],
        notes:"Create HTML files under /mandy/narratives/ as you draft." },
      { id:"resume-sow", title:"Résumé + Micro SOW Template", tag:"Docs",
        desc:"Final 1-page résumé plus a short Statement of Work template for proposals.",
        links:[ {label:"Résumé (PDF)", href:"/A.%20Miller%20Resume%202025-2.pdf"},
                {label:"SOW Template (Markdown)", href:"/SOW.md"} ],
        checklist:["Résumé is ATS-friendly PDF","SOW has scope, deliverables, timeline, rate","Contact details consistent"],
        notes:"If SOW.md doesn’t exist yet, add one at repo root." }
    ];

    // ---------- Persistence ----------
    var KEY = "mandy_portfolio_containers_v1";
    var SAVED = {};
    try{ SAVED = JSON.parse(localStorage.getItem(KEY) || "{}") || {}; }catch(e){ SAVED = {}; }

    function save(id, data){
      SAVED[id] = Object.assign({}, (SAVED[id]||{}), data);
      try{ localStorage.setItem(KEY, JSON.stringify(SAVED)); }catch(e){}
    }

    // ---------- Rendering ----------
    var CARDS = document.getElementById('cards');
    var yearEl = document.getElementById('year');
    if(yearEl) yearEl.textContent = new Date().getFullYear();

    function esc(s){ return (s==null?'':String(s)); }

    function cardHTML(item, saved){
      var status = (saved && saved.status) ? saved.status : "Not Started";
      var notes  = (saved && typeof saved.notes==='string') ? saved.notes : (item.notes||"");
      var checks = (saved && Array.isArray(saved.checks)) ? saved.checks.slice(0,item.checklist.length) : Array(item.checklist.length).fill(false);
      while (checks.length < item.checklist.length) checks.push(false);

      var done  = checks.filter(function(x){return !!x;}).length;
      var total = item.checklist.length;
      var pct   = total ? Math.round(100*done/total) : 0;

      var linksHTML = item.links.map(function(l){ return '<a class="btn" href="'+l.href+'" target="_blank" rel="noopener">'+l.label+'</a>'; }).join("");
      var checklistHTML = item.checklist.map(function(c, i){
        var ck = checks[i] ? 'checked' : '';
        return '<label><input type="checkbox" data-id="'+item.id+'" data-idx="'+i+'" '+ck+' /> <span>'+c+'</span></label>';
      }).join("");

      return ''+
      '<article class="card" id="'+item.id+'">'+
        '<div class="title">'+
          '<div>'+
            '<h3 style="margin:.2rem 0">'+item.title+'</h3>'+
            '<div class="muted meta">'+item.desc+' <span class="pill">'+item.tag+'</span></div>'+
          '</div>'+
          '<div>'+
            '<select data-id="'+item.id+'" class="status">'+
              ['Not Started','In Progress','Blocked','Done'].map(function(s){ return '<option '+(s===status?'selected':'')+'>'+s+'</option>'; }).join('')+
            '</select>'+
          '</div>'+
        '</div>'+
        '<div class="links">'+linksHTML+'</div>'+
        '<div class="checklist">'+checklistHTML+'</div>'+
        '<div class="row">'+
          '<div class="bar" style="width:220px"><span style="width:'+pct+'%" data-prog="'+item.id+'"></span></div>'+
          '<span class="muted" data-count="'+item.id+'">'+done+'/'+total+' checklist items done</span>'+
        '</div>'+
        '<div>'+
          '<label class="muted" for="n-'+item.id+'">Notes</label>'+
          '<textarea id="n-'+item.id+'" data-id="'+item.id+'" rows="3" placeholder="Add notes, links, or to-dos…">'+esc(notes)+'</textarea>'+
        '</div>'+
      '</article>';
    }

    function renderAll(){
      if(!CARDS) return;
      CARDS.innerHTML = ITEMS.map(function(it){ return cardHTML(it, SAVED[it.id]); }).join('');
      attachHandlers();
      updateOverall();
    }

    function updateCardAndOverall(id){
      var card = document.getElementById(id);
      if(!card) return;
      var boxes = card.querySelectorAll('input[type=checkbox]');
      var done = 0, total = boxes.length;
      Array.prototype.forEach.call(boxes, function(b){ if(b.checked) done++; });
      var pct = total ? Math.round(100*done/total) : 0;
      var progEl = card.querySelector('span[data-prog="'+id+'"]');
      var cntEl  = card.querySelector('[data-count="'+id+'"]');
      if(progEl) progEl.style.width = pct + '%';
      if(cntEl)  cntEl.textContent  = done + '/' + total + ' checklist items done';
      updateOverall();
    }

    function updateOverall(){
      var done=0,total=0;
      ITEMS.forEach(function(it){
        var card = document.getElementById(it.id);
        if(!card) return;
        var boxes = card.querySelectorAll('input[type=checkbox]');
        total += boxes.length;
        Array.prototype.forEach.call(boxes, function(b){ if(b.checked) done++; });
      });
      var pct = total ? Math.round(100*done/total) : 0;
      var bar = document.getElementById('overall');
      var txt = document.getElementById('statTxt');
      if(bar) bar.style.width = pct + '%';
      if(txt) txt.textContent = done + '/' + total + ' checklist items complete';
    }

    function attachHandlers(){
      CARDS.addEventListener('change', function(e){
        var t = e.target;
        if(t && t.matches('select.status')){
          var id = t.getAttribute('data-id');
          save(id, {status: t.value});
          updateCardAndOverall(id);
        } else if(t && t.matches('input[type=checkbox]')){
          var id = t.getAttribute('data-id');
          var card = document.getElementById(id);
          var boxes = card.querySelectorAll('input[type=checkbox]');
          var cur = Array.prototype.map.call(boxes, function(b){ return b.checked; });
          save(id, {checks: cur});
          updateCardAndOverall(id);
        }
      });
      CARDS.addEventListener('input', function(e){
        var t = e.target;
        if(t && t.matches('textarea')){
          save(t.getAttribute('data-id'), {notes: t.value});
        }
      });

      var exp = document.getElementById('export');
      var rst = document.getElementById('reset');
      if(exp){ exp.onclick = function(){
        try{
          var blob = new Blob([JSON.stringify(SAVED, null, 2)], {type:'application/json'});
          var a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'mandy_artifacts_status.json'; a.click();
          URL.revokeObjectURL(a.href);
        }catch(e){ showError(e); }
      };}
      if(rst){ rst.onclick = function(){ try{ localStorage.removeItem(KEY); location.reload(); }catch(e){ showError(e); } };}
      var yr = document.getElementById('year'); if(yr) yr.textContent = new Date().getFullYear();
    }

    renderAll();
  }catch(e){ showError(e); }
})();
</script>
</body>
</html>
